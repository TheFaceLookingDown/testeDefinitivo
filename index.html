<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Site Protegido</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
  :root{ --bg:#000; --fg:#fff; --err:#ff3b3b; }
  html,body{height:100%;}
  body{
    margin:0; background:var(--bg); color:var(--fg);
    font-family:'Press Start 2P', monospace;
    display:flex; align-items:center; justify-content:center;
    text-align:center; padding:20px;
  }
  .wrap{ width:100%; max-width:900px; position:relative; }

  /* login */
  #loginBox{ display:flex; flex-direction:column; align-items:center; gap:12px; }
  .pw-row{ display:flex; gap:8px; align-items:center; }
  .input-wrap{ position:relative; }
  input[type="password"], input[type="text"]{
    background:transparent; border:2px solid var(--fg); color:var(--fg);
    padding:12px 14px; outline:none; font-family:inherit; font-size:12px;
    width:320px; box-sizing:border-box;
  }
  button{
    padding:10px 14px; background:transparent; border:2px solid var(--fg);
    color:var(--fg); cursor:pointer; font-family:inherit; font-size:11px;
    text-transform:uppercase; letter-spacing:1px;
  }
  #eyeBtn{ padding:8px; min-width:44px; }

  /* inline error message */
  #errorMsg{
    color:var(--err);
    font-size:10px;
    height:18px; /* reserve space so layout n√£o pule */
    visibility:hidden;
  }
  #errorMsg.show{ visibility:visible; }

  /* sound toggle */
  #soundToggle{ position:fixed; right:12px; top:12px; background:transparent; border:2px solid var(--fg); padding:8px; }

  /* content */
  #content{ display:none; opacity:0; transition:opacity .45s ease; flex-direction:column; align-items:center; }
  #content.show{ display:flex; opacity:1; }
  #mainImage{
    max-width:80%; max-height:45vh; object-fit:contain; border:2px solid var(--fg);
    margin-bottom:18px; position:relative; overflow:hidden;
    /* prepare for CRT reveal */
    filter: drop-shadow(0 0 6px rgba(255,255,255,0.06));
  }
  /* CRT mask / scanline effect */
  .crt-wrap{
    position:relative;
    display:inline-block;
    overflow:hidden;
  }
  .crt-scan{
    position:absolute;
    inset:0;
    pointer-events:none;
    background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 50%, rgba(255,255,255,0.03) 100%);
    background-size: 100% 4px; /* thin scanlines */
    mix-blend-mode:screen;
    opacity:0.9;
  }
  .crt-flicker{
    position:absolute; inset:0; pointer-events:none;
    background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0));
    mix-blend-mode:overlay;
    opacity:0.18;
    animation: flicker 0.12s infinite;
  }
  @keyframes flicker{
    0%{ opacity:0.14 } 50%{ opacity:0.18 } 100%{ opacity:0.12 }
  }
  /* reveal animation: sliding bright band */
  .reveal-band{
    position:absolute; left:-120%; top:0; width:120%; height:100%;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.12) 50%, rgba(255,255,255,0) 100%);
    transform: skewX(-10deg);
    pointer-events:none;
    animation: bandMove 900ms ease forwards;
  }
  @keyframes bandMove{
    0%{ left:-120%; opacity:0 }
    40%{ left:5%; opacity:1 }
    100%{ left:120%; opacity:0 }
  }

  #title{ font-size:14px; margin:8px 0 20px 0; line-height:1.1; max-width:900px; }
  #text{ font-size:10px; max-width:820px; white-space:pre-wrap; text-align:center; }

  /* fake terminal overlay */
  #terminal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#000; z-index:40; color:var(--fg); font-family:inherit; font-size:11px; visibility:hidden; }
  #terminal.show{ visibility:visible; }

  @media (max-width:420px){
    input[type="password"]{ width:90%; }
    #title{ font-size:9px; } #text{ font-size:8px; }
  }
</style>
</head>
<body>

<div class="wrap">
  <button id="soundToggle" aria-pressed="true">üîä Som</button>

  <div id="loginBox" aria-hidden="false">
    <div class="pw-row">
      <div class="input-wrap">
        <input id="passwordInput" type="password" placeholder="Digite a senha" autocomplete="off" />
      </div>
      <button id="eyeBtn" title="Mostrar senha">üëÅÔ∏è</button>
    </div>

    <div style="display:flex; gap:12px; justify-content:center; margin-top:8px;">
      <button id="enterBtn">Entrar</button>
      <button id="clearBtn">Limpar</button>
    </div>

    <div id="errorMsg" role="alert" aria-live="assertive"></div>
  </div>

  <div id="content" aria-hidden="true" role="region">
    <div class="crt-wrap">
      <img id="mainImage" src="" alt="" />
      <div class="crt-scan" aria-hidden="true"></div>
      <div class="crt-flicker" aria-hidden="true"></div>
      <!-- reveal band appended dynamically -->
    </div>

    <h1 id="title"></h1>
    <div id="text"></div>
  </div>
</div>

<div id="terminal" role="status" aria-live="polite">
  <div><div id="termLine">Verificando credenciais...</div></div>
</div>

<script>
/* =========================
   VARI√ÅVEIS F√ÅCEIS DE ALTERAR
   ========================= */
const CONFIG = {
  senha: "deadoralive",           // <-- alterar senha aqui
  titulo: "Troll mutante", // <-- t√≠tulo (abaixo da imagem)
  texto: `Eles dizem que ele vive nas bordas do p√¢ntano, onde a neblina gruda nos ossos e at√© os corvos evitam pousar. Eu sei que existe porque o vi. O vi me olhando de cima de um tronco podre, as m√£os deformadas se contorcendo como se tivessem vida pr√≥pria. N√£o era humano, n√£o era nada que pudesse existir na sanidade de algu√©m. Um troll mutante, dizem os mais velhos ‚Äî uma aberra√ß√£o feita de carne e sombra, que cresce com cada cicatriz que carrega.

Eu estava com o grupo de ca√ßadores, todos armados at√© os dentes, jurando que era ‚Äúvivo ou morto‚Äù. Mas ao se mover, ele n√£o fazia barulho. Cada passo parecia sugar a pr√≥pria luz ao redor, como se o mundo estivesse com medo de testemunhar. Atirei uma flecha, e ela simplesmente‚Ä¶ se curvou, desviando da pele escamosa e mutante. O resto do grupo gritava, enlouquecido.

Ele atacou com for√ßa brutal. Bra√ßos que se alongavam de forma imposs√≠vel agarraram Josu√© e o arrastaram para o brejo. N√£o dava para ver mais nada al√©m da √°gua negra borbulhando e o grito abafado do meu amigo. Tentamos recuar, mas ele sabia cada passo do terreno. Era como se o p√¢ntano fosse parte dele. Cada instante que passava, mais a fera parecia rir ‚Äî uma risada gutural, carregada de sangue e ferro.

No fim, s√≥ restou eu, sujo de lama e horror. Vi o brilho nos olhos dele, vermelho como brasas, me perseguindo enquanto eu corria. ‚ÄúVivo ou morto‚Äù, pensei, mas de repente percebi que talvez eu fosse apenas mais uma hist√≥ria para ele contar, se monstros soubessem contar hist√≥rias.`, // <-- texto livre
  imagem: "zero.jpg",        // <-- nome do arquivo exato (coloque na mesma pasta)
  terminalDelayMs: 700,
  typingSpeed: 16,                  // velocidade do efeito de digita√ß√£o do conte√∫do
  keyBeepFreq: 1600,                // frequ√™ncia base para beep por caractere (Hz)
  keyBeepShort: 0.03                // dura√ß√£o do beep por caractere (s)
};
/* ========================= */

const pwInput = document.getElementById('passwordInput');
const enterBtn = document.getElementById('enterBtn');
const clearBtn = document.getElementById('clearBtn');
const eyeBtn = document.getElementById('eyeBtn');
const loginBox = document.getElementById('loginBox');
const errorMsg = document.getElementById('errorMsg');
const content = document.getElementById('content');
const mainImage = document.getElementById('mainImage');
const titleEl = document.getElementById('title');
const textEl = document.getElementById('text');
const terminal = document.getElementById('terminal');
const termLine = document.getElementById('termLine');
const soundToggle = document.getElementById('soundToggle');

pwInput.focus();

/* WebAudio setup */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
let audioCtx = null;
let soundEnabled = true;

function ensureAudioCtx(){ if(!audioCtx) audioCtx = new AudioCtx(); }

/* beep generator (for keys + success/error) */
function beep(freq=CONFIG.keyBeepFreq, duration=CONFIG.keyBeepShort, type='sine', vol=0.08){
  if(!soundEnabled) return;
  ensureAudioCtx();
  const o = audioCtx.createOscillator();
  const g = audioCtx.createGain();
  o.type = type;
  o.frequency.value = freq;
  g.gain.value = vol;
  o.connect(g); g.connect(audioCtx.destination);
  o.start();
  g.gain.setValueAtTime(0.0001, audioCtx.currentTime);
  g.gain.exponentialRampToValueAtTime(vol, audioCtx.currentTime + 0.005);
  g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + duration);
  o.stop(audioCtx.currentTime + duration + 0.02);
}
function keyBeep(){ beep(CONFIG.keyBeepFreq + (Math.random()*200-100), CONFIG.keyBeepShort, 'square', 0.035); }
function successSound(){ beep(900,0.1,'sine',0.12); setTimeout(()=>beep(1400,0.06,'sine',0.08),90); }
function errorSound(){ beep(220,0.12,'sawtooth',0.14); }

/* sound toggle */
soundToggle.addEventListener('click', ()=>{
  soundEnabled = !soundEnabled;
  soundToggle.textContent = soundEnabled ? 'üîä Som' : 'üîá Som';
  soundToggle.setAttribute('aria-pressed', String(soundEnabled));
});

/* per-character beep on typing (password) */
let lastKeyTime = 0;
pwInput.addEventListener('keydown', (e)=>{
  // play on printable chars and Backspace/Delete
  const now = Date.now();
  // throttle tiny bursts: avoid too many beeps if key repeat
  if(now - lastKeyTime > 28) {
    if(e.key.length === 1 || e.key === 'Backspace' || e.key === 'Delete') keyBeep();
    lastKeyTime = now;
  }
  if(e.key === 'Enter'){ e.preventDefault(); attemptEnter(); }
});

/* eye toggle */
eyeBtn.addEventListener('click', ()=>{
  const type = pwInput.type === 'password' ? 'text' : 'password';
  pwInput.type = type;
  eyeBtn.textContent = type === 'password' ? 'seek' : 'hide';
  pwInput.focus();
});

/* buttons */
enterBtn.addEventListener('click', ()=>{ keyBeep(); attemptEnter(); });
clearBtn.addEventListener('click', ()=>{ keyBeep(); pwInput.value=''; pwInput.focus(); });

/* terminal overlay */
function showTerminal(){ terminal.classList.add('show'); termLine.textContent = 'Verificando credenciais...'; }
function hideTerminal(){ terminal.classList.remove('show'); }
function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

/* show inline error */
function showError(text){
  errorMsg.textContent = text;
  errorMsg.classList.add('show');
  // subtle flash
  errorMsg.animate([{opacity:0},{opacity:1}], {duration:260, easing:'ease'});
}

/* clear error */
function clearError(){ errorMsg.textContent=''; errorMsg.classList.remove('show'); }

/* main entry */
async function attemptEnter(){
  clearError();
  showTerminal();
  await sleep(CONFIG.terminalDelayMs);
  hideTerminal();

  if(pwInput.value === CONFIG.senha){
    successSound();
    revealContent();
  } else {
    errorSound();
    showError('Senha incorreta ‚Äî tente novamente.');
    pwInput.focus();
  }
}

/* reveal content with image CRT effect and typing text */
async function revealContent(){
  // set content values
  titleEl.textContent = CONFIG.titulo;
  textEl.textContent = ''; // will type

  // set image src and prepare CRT band
  mainImage.src = CONFIG.imagem;
  mainImage.alt = CONFIG.titulo || 'Imagem';

  // hide login, show content
  loginBox.style.display = 'none';
  content.classList.add('show');
  content.setAttribute('aria-hidden','false');

  // when image loads, animate reveal band (CRT)
  const wrapper = mainImage.parentElement; // .crt-wrap
  // remove previous band if exists
  const prevBand = wrapper.querySelector('.reveal-band');
  if(prevBand) prevBand.remove();

  const band = document.createElement('div');
  band.className = 'reveal-band';
  wrapper.appendChild(band);

  // let band run (900ms from CSS)
  await sleep(920);

  // then type the text with small clicks per chunk
  await typeText(CONFIG.texto || '');
}

/* typing effect for content text (with subtle clicks) */
async function typeText(full){
  const el = textEl;
  el.textContent = '';
  for(let i=0;i<full.length;i++){
    el.textContent += full[i];
    // play click every 2-3 chars (avoid spam)
    if(i % 3 === 0) { keyBeep(); }
    await sleep(CONFIG.typingSpeed);
  }
}

/* fallback: if image 404, show placeholder */
mainImage.addEventListener('error', ()=>{
  // simple inline SVG placeholder
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='800' height='450'><rect width='100%' height='100%' fill='black' stroke='white' stroke-width='6'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Press Start 2P,monospace' font-size='20' fill='white'>Imagem n√£o encontrada</text></svg>`;
  mainImage.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
});

/* Accessibility: Enter key also triggers */
pwInput.addEventListener('keypress', (e)=>{ if(e.key === 'Enter') { e.preventDefault(); attemptEnter(); } });

/* expose CONFIG for easy console edits */
window._SITE_CONFIG = CONFIG;

</script>
</body>
</html>
